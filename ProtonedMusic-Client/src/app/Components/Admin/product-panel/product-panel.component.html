<h1>Produkt Administration</h1>

  <div class="container-fluid">
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Navn</label>
      <div class="col-sm-10">
        <input [(ngModel)]="product.productName" [ngModelOptions]="{standalone: true}" class="form-control w-75">
      </div>
    </div>
    
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Pris</label>
      <div class="col-sm-10">
        <input [(ngModel)]="product.productPrice" [ngModelOptions]="{standalone: true}" class="form-control w-75">
      </div>
    </div>
    
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Beskrivelse</label>
      <div class="col-sm-10">
        <textarea style="resize: none;"class="form-control w-75" id="textAreaExample1" rows="4" maxlength="500" [(ngModel)]="product.productDescription" [ngModelOptions]="{standalone: true}">
          ></textarea>
      </div>
    </div>
    
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Kategori</label>
  <div class="col-sm-10">
    <ul class="list-group">
        <li class="list-group-item w-75" *ngFor="let category of categories">
          <input class="form-check-input me-1" type="checkbox" (change)="marked($event)" (change)="toggleCheckbox(category)" [checked]="category.checked" [value]="category.id">
          <label class="form-check-label">{{category.name}}</label>
        </li>
    </ul>
  </div>
</div>

<button (click)="save()" class="btn btn-sm btn-success">Gem</button>
<button (click)="cancel()" class="btn btn-sm btn-danger">Annuller</button>
</div>

<table class="table table-striped table-hover mt-5">
  <thead>
    <tr>
      <th style="width:105px;">Actions</th>
      <th style="width:40px;">Id</th>
      <th style="width:100px;">Navn</th>
      <th style="width:150px;">Pris</th>
      <th>Beskrivelse</th>
      <th style="width:200px">Kategori</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let product of products;">
      <td>
        <button (click)="editProduct(product)" class="btn btn-sm btn-primary">Ret</button>
        <button (click)="deleteProduct(product)" class="btn btn-sm btn-danger">Slet</button>
      </td>
      <td>{{ product.id }}</td>
      <td>{{ product.productName }}</td>
      <td>{{ product.productPrice }}</td>
      <td class="text-truncate" style="max-width: 30px;">{{ product.productDescription }}</td>
      <td *ngFor="let category of product.categories" class="p-0">category.ProductName</td>
    </tr>
  </tbody>
</table>